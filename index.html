<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Load Modeling Tool</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 40px;
            background-color: #f7f9fc;
            color: #333;
        }

        h2 {
            color: #2d3748;
        }

        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
        }

        .section {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #edf2f7;
        }

        input, button {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            border: 1px solid #edf2f7;
            border-radius: 5px;
        }

        input {
            background-color: #f7f9fc;
            color: #333;
        }

        button {
            background-color: #48bb78;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #38a169;
        }

        canvas {
            margin-top: 20px;
        }

        footer {
            margin-top: 20px;
            font-size: 0.9em;
            color: #a0aec0;
        }

        footer a {
            color: #48bb78;
            text-decoration: none;
            transition: color 0.3s;
        }

        footer a:hover {
            color: #38a169;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Performance Load Modeling Tool</h2>

        <div id="explanation" class="section">
            <strong>Explanation of Tool:</strong>
            <p>This Performance Load Modeling Tool is designed to assist testers and developers in planning and executing performance tests. By inputting the expected daily user traffic and custom ramp-up time, this tool will output the recommended Virtual User (VU) ramp-up strategy to simulate real-world usage patterns.</p>
        </div>

        <label for="usersPerDay">Total Number of Users per Day:</label>
        <input type="number" id="usersPerDay" placeholder="Enter total users per day">

        <label for="customSeconds">Custom Ramp-Up Time (seconds):</label>
        <input type="number" id="customSeconds" placeholder="Enter custom seconds">

        <button onclick="calculate()">Calculate</button>

        <canvas id="rampUpChart" style="width: 100%; height: 300px;"></canvas>

        <div id="formulas" class="section">
            <strong>Formulas:</strong>
            <p>Step-up VUs every 1 second: <span id="vusIncreasePer1Second">-</span> VUs</p>
            <p>Step-up VUs every 10 seconds: <span id="vusIncreasePer10Seconds">-</span> VUs</p>
            <p>Step-up VUs every 30 seconds: <span id="vusIncreasePer30Seconds">-</span> VUs</p>
            <p>Step-up VUs every 60 seconds: <span id="vusIncreasePer60Seconds">-</span> VUs</p>
            <p>Step-up VUs every <span id="customSecondsDisplay">-</span> seconds: <span id="vusIncreasePerCustomSeconds">-</span> VUs</p>
        </div>

        <div id="recommendations" class="section">
            <strong>Recommendations:</strong>
            <p>After achieving peak load in 1 hour: Maintain the peak for 15 minutes to calculate real-time performance of the application. Monitor application tools for GC, Memory, CPU usage, and other system performance metrics during this time.</p>
        </div>

        <div id="tools" class="section">
            <strong>Suggested Tools:</strong>
            <p>For conducting this test, consider using open-source tools such as Apache JMeter or Locust.</p>
        </div>

        <footer>
            Developed by <a href="https://www.linkedin.com/in/ilamvazhuthi-mathivanan-17588741/">Ilamvazhuthi Mathivanan</a>. Check the source code on <a href="https://github.com/ilamvazhuthi">GitHub</a>. Follow on <a href="https://twitter.com/ilamvazhuthim">Twitter</a>.
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
let myChart;

function calculate() {
    const usersPerDay = parseFloat(document.getElementById("usersPerDay").value);
    const customSeconds = parseFloat(document.getElementById("customSeconds").value || 0);
    const usersPerHour = usersPerDay / 24;
    const vusIncreasePerSecond = usersPerHour / 3600;

    document.getElementById("vusIncreasePer1Second").textContent = Math.round(vusIncreasePerSecond);
    document.getElementById("vusIncreasePer10Seconds").textContent = Math.round(vusIncreasePerSecond * 10);
    document.getElementById("vusIncreasePer30Seconds").textContent = Math.round(vusIncreasePerSecond * 30);
    document.getElementById("vusIncreasePer60Seconds").textContent = Math.round(vusIncreasePerSecond * 60);
    document.getElementById("vusIncreasePerCustomSeconds").textContent = customSeconds ? Math.round(vusIncreasePerSecond * customSeconds) : "-";
    document.getElementById("customSecondsDisplay").textContent = customSeconds || "-";

    // Chart.js logic to plot the ramp-up data
    const ctx = document.getElementById('rampUpChart').getContext('2d');

    // If a chart already exists, destroy it before creating a new one
    if (myChart) {
        myChart.destroy();
    }

    // Data for Chart.js
    const timeLabels = Array.from({ length: 3600 }, (_, i) => i + 1); // 3600 seconds in an hour
    const data = timeLabels.map(second => vusIncreasePerSecond * second);

    myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: timeLabels,
            datasets: [{
                label: 'Number of VUs',
                data: data,
                borderColor: '#48bb78',
                backgroundColor: 'rgba(72, 187, 120, 0.1)',
                borderWidth: 1,
                pointRadius: 0
            }]
        },
        options: {
            scales: {
                x: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Time (seconds)'
                    }
                },
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Number of VUs'
                    }
                }
            }
        }
    });
}

    </script>
</body>

</html>
